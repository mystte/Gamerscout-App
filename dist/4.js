(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{683:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(16),i=n(7),l=n(5),c={container:{width:"100%",maxWidth:1110,height:200,justifySelf:"center",alignSelf:"center",paddingTop:30},title:{fontSize:24,color:Object(l.a)("white"),fontWeight:600},mbTitle:{fontSize:24,color:Object(l.a)("white"),fontWeight:600,textAlign:"center"},contentContainer:{marginTop:30,flexDirection:"row"},mbContentContainer:{marginTop:30,flexDirection:"column",alignItems:"center",justifyContent:"center"},mbSettingsDataContainer:{marginTop:30,width:"100%"},settingsDataContainer:{marginLeft:30,width:"100%"}},s=n(2),d=n.n(s),u={container:{width:260,height:161,backgroundColor:Object(l.a)("ebonyclay"),borderColor:Object(l.a)("dimgrey"),borderWidth:1,borderStyle:"solid",borderRadius:1,paddingTop:30,paddingLeft:20}},b={container:{fontSize:14,fontWeight:600,color:Object(l.b)("white",.5),marginBottom:15,cursor:"pointer"},selected:{color:Object(l.a)("white")}};function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(n,!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function NavElem(e){var t=e.label,n=e.selected,r=e.onClick,o=e.type,i=n?_objectSpread({},b.container,{},b.selected):_objectSpread({},b.container);return a.a.createElement("div",{onClick:function onClick(){return r(o)},style:i},t)};f.propTypes={onClick:d.a.func.isRequired,type:d.a.string.isRequired,label:d.a.string,selected:d.a.bool},f.defaultProps={label:null,selected:!1};var m=f,p="NAV_SECTION_PROFILE",y="NAV_SECTION_EMAIL",g="NAV_SECTION_PASSWORD",C="NAV_SECTION_ACCOUNTS",h=function SettingsNav(e){var t=e.selectedNav,n=e.onNavSelect,r=i.a.Labels.settings.nav;return a.a.createElement("div",{style:u.container},a.a.createElement(m,{selected:t===p,label:r.profile,type:p,onClick:n}),a.a.createElement(m,{selected:t===y,label:r.emailPassword,type:y,onClick:n}),a.a.createElement(m,{selected:t===C,label:r.accounts,type:C,onClick:n}))};h.propTypes={selectedNav:d.a.string,onNavSelect:d.a.func.isRequired},h.defaultProps={selectedNav:null};var E=h,w={container:{marginBottom:30},title:{textTransform:"uppercase",color:Object(l.a)("regentgray"),marginBottom:15},dataContainer:{width:"100%",height:100,backgroundColor:Object(l.a)("ebonyclay"),borderStyle:"solid",borderWidth:1,borderColor:Object(l.a)("dimgrey"),borderRadius:1,paddingTop:32,paddingLeft:30,position:"relative"},inputDataContainer:{overflow:"hidden"},dataContainerEditMode:{borderColor:Object(l.a)("dodgerblue"),height:215},infoTitle:{color:Object(l.a)("white"),fontWeight:600,fontSize:14},infoDesc:{fontSize:12,color:Object(l.a)("regentgray")},edit:{position:"absolute",right:30,top:41,cursor:"pointer",color:Object(l.a)("dodgerblue"),fontSize:14,fontWeight:600},inputContainer:{width:245,marginBottom:20,marginTop:20},cancelButtonContainer:{width:100,marginRight:10},topContainer:{cursor:"pointer"},submitlButtonsContainer:{flexDirection:"row"}},O=n(26),v=n(9),P=n(63);function ProfileInformation_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ProfileInformation_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ProfileInformation_ownKeys(n,!0).forEach(function(t){ProfileInformation_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ProfileInformation_ownKeys(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ProfileInformation_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var j=function ProfileInformation(e){var t=e.isEditMode,n=e.username,o=e.onUpdate,l=i.a.Labels.settings.profile,c=i.a.Errors.userUpdate,s=t?l.close:l.edit,d=_slicedToArray(Object(r.useState)(null),2),u=d[0],b=d[1],f=_slicedToArray(Object(r.useState)(null),2),m=f[0],y=f[1],g=function clearErrors(){b(null)},C=function onProfileSubmit(){var e=P.a.doUsernameValidator(m);g(),y(null),!0===e?o(p,{username:m}):b(e)};return a.a.createElement("div",{style:w.container},a.a.createElement("div",{style:w.title},l.title),a.a.createElement("div",{className:"settings-animation",style:function getDataContainerStyle(){return t?ProfileInformation_objectSpread({},w.dataContainer,{},w.dataContainerEditMode):ProfileInformation_objectSpread({},w.dataContainer)}()},a.a.createElement("div",{style:w.topContainer,onClick:function onClick(){return o(p,null)}},a.a.createElement("div",{style:w.infoTitle},l.info),a.a.createElement("div",{style:w.infoDesc},l.desc),a.a.createElement("div",{style:w.edit},s)),function renderDataContent(){var e=null;return t&&(e=a.a.createElement("div",{style:w.inputDataContainer},a.a.createElement("div",{style:w.inputContainer},a.a.createElement(O.b,{focus:!0,placeholder:n,length:"50",value:m,onChange:function onChange(e){return function updateGsId(e){g(),y(e)}(e.target.value)},error:!0!==u&&null!==u,message:c[u]})),a.a.createElement("div",{style:w.submitlButtonsContainer},a.a.createElement("div",{style:w.cancelButtonContainer},a.a.createElement(v.b,{label:l.cancel,theme:v.a.GREY,onClick:function onClick(){return function onCancelClick(e){o(e,null)}(p)}})),a.a.createElement("div",{style:w.cancelButtonContainer},a.a.createElement(v.b,{label:l.submit,theme:v.a.BLUE,onClick:C,disabled:P.a.doUpdateGamerscoutIdDisableValidator(m)}))))),e}()))};j.propTypes={isEditMode:d.a.bool,onUpdate:d.a.func.isRequired,username:d.a.string},j.defaultProps={isEditMode:!1,username:null};var S=j,A={container:{marginBottom:30},infosContainer:{cursor:"pointer"},mbInfosContainer:{cursor:"pointer",width:"70%"},title:{textTransform:"uppercase",color:Object(l.a)("regentgray"),marginBottom:15},dataContainer:{width:"100%",minHeight:100,height:100,backgroundColor:Object(l.a)("ebonyclay"),borderStyle:"solid",borderColor:Object(l.a)("dimgrey"),borderRadius:1,paddingTop:32,paddingLeft:30,position:"relative",borderWidth:1},dataContainerEmailEditMode:{borderColor:Object(l.a)("dodgerblue"),height:215},mbDataContainerEmailEditMode:{borderColor:Object(l.a)("dodgerblue"),height:235},dataContainerPwdEditMode:{borderColor:Object(l.a)("dodgerblue"),borderTopWidth:1,height:320},pwdDataContainer:{borderTopWidth:0},infoTitle:{color:Object(l.a)("white"),fontWeight:600,fontSize:14},infoDesc:{fontSize:12,color:Object(l.a)("regentgray")},edit:{position:"absolute",right:30,top:41,cursor:"pointer",color:Object(l.a)("white"),fontSize:14,fontWeight:600,alignItems:"flex-end"},emailStatusLabel:{fontSize:12,color:Object(l.a)("regentgray"),fontWeight:400},unverified:{color:Object(l.a)("cinnabar"),fontWeight:600},inputDataContainer:{marginTop:20,overflow:"hidden"},inputContainer:{width:245,marginBottom:20},submitlButtonsContainer:{flexDirection:"row",marginBottom:30},cancelButtonContainer:{marginRight:10,width:100},submitButtonContainer:{width:135},inputSeparator:{marginBottom:10}},_=n(18),k=n(103);function EmailAndPassword_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function EmailAndPassword_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EmailAndPassword_ownKeys(n,!0).forEach(function(t){EmailAndPassword_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EmailAndPassword_ownKeys(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function EmailAndPassword_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EmailAndPassword_slicedToArray(e,t){return function EmailAndPassword_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function EmailAndPassword_iterableToArrayLimit(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function EmailAndPassword_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var D=function EmailAndPassword(e){var t=e.isEditEmailMode,n=e.isEditPasswordMode,l=e.onUpdate,c=e.email,s=e.isVerified,d=e.noPassword,u=Object(o.c)(),b=i.a.Labels.settings.emailPassword,f=t?b.close:b.edit,m=n?b.close:b.edit,p=EmailAndPassword_slicedToArray(Object(r.useState)(null),2),C=p[0],h=p[1],E=EmailAndPassword_slicedToArray(Object(r.useState)(null),2),w=E[0],j=E[1],S=EmailAndPassword_slicedToArray(Object(r.useState)(null),2),D=S[0],T=S[1],I=EmailAndPassword_slicedToArray(Object(r.useState)(null),2),B=I[0],R=I[1],L=EmailAndPassword_slicedToArray(Object(r.useState)(null),2),N=L[0],x=L[1],W=EmailAndPassword_slicedToArray(Object(r.useState)(null),2),M=W[0],U=W[1],V=EmailAndPassword_slicedToArray(Object(r.useState)(null),2),K=V[0],z=V[1],F=Object(o.d)(function(e){return e.app.get("error")}),G=i.a.Errors.userUpdate,q=s?b.verified:b.unverified,H=Object(k.a)().getResponsiveStyle,Y=s?A.emailStatusLabel:EmailAndPassword_objectSpread({},A.emailStatusLabel,{},A.unverified),J=function getErrorMessage(e){var t=null;return e?t=e:F&&(t=G[F]),t},Q=function hasPwdError(){return null!==K||null!==F},X=function clearPwdData(){j(null),T(null),R(null),z(null)},Z=function clearEmailData(){h(null),U(null),x(null)},$=function onCancelClick(e){l(e,null),Z(),X(),u(Object(_.a)())},ee=function onPasswordUpdateSubmit(){var e=P.a.doNewPasswordValidator(D,B);!0===e?l(g,{currentPassword:w,newPassword:D}):z(G[e])},te=function onEmailUpdateSubmit(){if(s||C){var e=P.a.doEmailValidator(C);!0===e?(l(y,{email:C}),Z()):(U(G[e]),x(!0!==e))}else u(Object(_.g)())};return a.a.createElement("div",{style:A.container},a.a.createElement("div",{style:A.title},b.title),a.a.createElement("div",{className:"settings-animation",style:function getEMailDataContainerStyle(){return t?EmailAndPassword_objectSpread({},A.dataContainer,{},A[H("dataContainerEmailEditMode")]):EmailAndPassword_objectSpread({},A.dataContainer)}()},a.a.createElement("div",{onClick:function onClick(){l(y,null),Z()},style:A[H("infosContainer")]},a.a.createElement("div",{style:A.infoTitle},b.email),a.a.createElement("div",{style:A.infoDesc},b.emailDesc)),a.a.createElement("div",{style:A.edit,onClick:function onClick(){return t?$():l(y,null)}},a.a.createElement("span",{style:A.editEmailLabel},f),a.a.createElement("span",{style:Y},q)),function renderEmailDataContent(){var e=null;return t&&(e=a.a.createElement("div",{style:A.inputDataContainer},a.a.createElement("div",{style:A.inputContainer},a.a.createElement(O.b,{focus:!0,placeholder:c,length:"150",onChange:function onChange(e){return h(e.target.value)},message:J(M),error:N||null!==F})),a.a.createElement("div",{style:A.submitlButtonsContainer},a.a.createElement("div",{style:A.cancelButtonContainer},a.a.createElement(v.b,{label:b.cancel,theme:v.a.GREY,onClick:function onClick(){return $(y)}})),a.a.createElement("div",{style:A.submitButtonContainer},function renderEmailValidationButton(){var e=s?b.submit:b.resubmit;return a.a.createElement(v.b,{label:e,theme:v.a.BLUE,onClick:te,disabled:P.a.doUpdateEmailDisableValidator(C,c,s)})}())))),e}()),a.a.createElement("div",{className:"settings-animation",style:function getPasswordDataContainerStyle(){return EmailAndPassword_objectSpread({},A.dataContainer,{},n?A[H("dataContainerPwdEditMode")]:A.pwdDataContainer)}()},a.a.createElement("div",{onClick:function onClick(){l(g,null),X()},style:A.infosContainer},a.a.createElement("div",{style:A.infoTitle},b.password),a.a.createElement("div",{style:A.infoDesc},b.passwordDesc)),a.a.createElement("div",{style:A.edit,onClick:function onClick(){return n?$():l(g,null)}},m),function renderPasswordDataContent(){var e=null;return n&&(e=a.a.createElement("div",{style:A.inputDataContainer},a.a.createElement("div",{style:A.inputContainer},!d&&a.a.createElement(O.b,{focus:!0,type:O.a.PASSWORD,placeholder:b.currentPasswordPlaceholder,length:"150",onChange:function onChange(e){j(e.target.value)},error:Q()}),a.a.createElement("span",{style:A.inputSeparator}),a.a.createElement(O.b,{type:O.a.PASSWORD,placeholder:b.newPassword,length:"150",onChange:function onChange(e){T(e.target.value)},error:Q()}),a.a.createElement("span",{style:A.inputSeparator}),a.a.createElement(O.b,{type:O.a.PASSWORD,placeholder:b.newPassword,length:"150",onChange:function onChange(e){R(e.target.value)},error:Q(),message:J(K)})),a.a.createElement("div",{style:A.submitlButtonsContainer},a.a.createElement("div",{style:A.cancelButtonContainer},a.a.createElement(v.b,{label:b.cancel,theme:v.a.GREY,onClick:function onClick(){return $(g)}})),a.a.createElement("div",{style:A.submitButtonContainer},a.a.createElement(v.b,{label:b.save,theme:v.a.BLUE,onClick:ee,disabled:d?P.a.doCreatePasswordDisabledValidator(D,B):P.a.doUpdatePasswordDisabledValidator(w,D,B)}))))),e}()))};D.propTypes={isEditEmailMode:d.a.bool,isEditPasswordMode:d.a.bool,onUpdate:d.a.func.isRequired,isVerified:d.a.bool.isRequired,email:d.a.string,noPassword:d.a.bool},D.defaultProps={isEditEmailMode:!1,isEditPasswordMode:!1,email:null,noPassword:!1};var T=D,I=n(237),B={addAccountContainer:{marginTop:10,marginBottom:20,flexDirection:"row",cursor:"pointer"},addLabel:{marginLeft:10,color:Object(l.a)("dodgerblue"),fontWeight:600},container:{marginBottom:30},title:{textTransform:"uppercase",color:Object(l.a)("regentgray"),marginBottom:15},dataContainer:{width:"100%",minHeight:100,height:100,backgroundColor:Object(l.a)("ebonyclay"),borderStyle:"solid",borderWidth:1,borderColor:Object(l.a)("dimgrey"),borderRadius:1,paddingTop:32,paddingLeft:30,position:"relative"},dataContainerEditMode:{borderColor:Object(l.a)("dodgerblue"),height:227},infoTitle:{color:Object(l.a)("white"),fontWeight:600,fontSize:14},infoDesc:{fontSize:12,color:Object(l.a)("regentgray")},edit:{position:"absolute",right:30,top:41,cursor:"pointer",color:Object(l.a)("white"),fontSize:14,fontWeight:600},detailsContainer:{overflow:"hidden"},emailContainer:{alignItems:"flex-start",paddingTop:20,marginBottom:10},submitlButtonsContainer:{flexDirection:"row",marginBottom:30},cancelButtonContainer:{marginRight:10,width:100},connectedLabels:{fontSize:12,color:Object(l.a)("regentgray"),position:"absolute",right:30,top:55},titleContainer:{cursor:"pointer"},submitButtonContainer:{width:135}},R={container:{flexDirection:"row",justifyContent:"center",alignItems:"center",cursor:"pointer"},checkbox:{width:16,height:16,backgroundColor:Object(l.a)("mirage"),borderWidth:1,borderStyle:"solid",borderColor:Object(l.a)("dimgrey"),borderRadius:1},label:{marginLeft:10,fontSize:14},selectedContainer:{width:"100%",height:"100%",backgroundColor:Object(l.a)("apple"),justifyContent:"center",alignItems:"center"},disabled:{backgroundColor:"none",opacity:.5},selected:{fontWeight:600}},L=n(20);function Checkbox_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Checkbox_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Checkbox_ownKeys(n,!0).forEach(function(t){Checkbox_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Checkbox_ownKeys(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Checkbox_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Checkbox_slicedToArray(e,t){return function Checkbox_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function Checkbox_iterableToArrayLimit(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function Checkbox_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var N=function Checkbox(e){var t=e.label,n=e.disabled,o=e.isSelected,i=e.onChange,l=Checkbox_slicedToArray(Object(r.useState)(o),2),c=l[0],s=l[1],d={},u={};n&&(d=R.disabled),c&&(u=R.selected);return a.a.createElement("div",{className:"noselect",onClick:n?null:function onClick(){i&&i(!c),s(!c)},style:R.container},a.a.createElement("div",{style:R.checkbox},c&&a.a.createElement("div",{style:Checkbox_objectSpread({},R.selectedContainer,{},d)},a.a.createElement(L.b,{width:7,height:6,name:"check"}))),t&&a.a.createElement("span",{style:Checkbox_objectSpread({},R.label,{},u,{},d)},t))};N.propTypes={label:d.a.string,disabled:d.a.bool,isSelected:d.a.bool,onChange:d.a.func},N.defaultProps={label:null,disabled:!1,isSelected:!1,onChange:null};var x=N,W=n(31),M=n(1);function ConnectedAccounts_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ConnectedAccounts_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ConnectedAccounts_ownKeys(n,!0).forEach(function(t){ConnectedAccounts_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ConnectedAccounts_ownKeys(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ConnectedAccounts_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ConnectedAccounts_slicedToArray(e,t){return function ConnectedAccounts_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function ConnectedAccounts_iterableToArrayLimit(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function ConnectedAccounts_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var U=function ConnectedAccounts(e){var t=e.isEditMode,n=e.onUpdate,l=Object(o.c)(),c=Object(o.d)(function(e){return e.app.getIn(["data","facebookAppId"])}),s=ConnectedAccounts_slicedToArray(Object(r.useState)(!1),2),d=s[0],u=s[1],b=i.a.Labels.settings.accounts,f=t?b.close:b.edit,m=Object(o.d)(function(e){return e.app.getIn(["data","user"])}),p=function doAddAccountAction(e){var t={onValidAction:Object(M.f)(M.a.DO_ADD_FACEBOOK_ACCOUNT),data:{token:e}};l(Object(_.n)(W.a.CONFIRM_PWD,!0,t))},g=function onAddAccountClick(){window.FB.getLoginStatus(function(e){"connected"===e.status?p(e.authResponse.accessToken):window.FB.login(function(e){p(e.authResponse.accessToken)},{scope:"email,public_profile"})})},h=function onAccountCheckboxClick(e){u(e)},E=function onDisconnectClick(){u(!1),n(C,!0)};return a.a.createElement("div",{style:B.container},a.a.createElement("div",{style:B.title},b.title),a.a.createElement("div",{className:"settings-animation",style:function getDataContainerStyle(){return t?ConnectedAccounts_objectSpread({},B.dataContainer,{},B.dataContainerEditMode):ConnectedAccounts_objectSpread({},B.dataContainer)}()},a.a.createElement("div",{onClick:function onClick(){return n(C,null)},style:B.titleContainer},a.a.createElement("div",{style:B.infoTitle},b.facebook),a.a.createElement("div",{style:B.infoDesc},b.facebookDesc)),a.a.createElement("div",{onClick:function onClick(){return n(C,null)},style:B.edit},f),a.a.createElement("div",{style:B.connectedLabels},i.a.Labels.formatString(b.connected,m.getLinkedAccountNumber())),function renderDataContent(){var e=null;return t&&(e=a.a.createElement("div",{style:B.detailsContainer},m.facebookId&&a.a.createElement("div",{style:B.emailContainer},a.a.createElement(x,{label:m.facebookEmail,onChange:h})),!m.facebookId&&a.a.createElement(I.FacebookProvider,{appId:c},a.a.createElement("div",{onClick:g,style:B.addAccountContainer},a.a.createElement(L.b,{width:20,height:20,name:"add-box"}),a.a.createElement("span",{style:B.addLabel},b.add))),a.a.createElement("div",{style:B.submitlButtonsContainer},a.a.createElement("div",{style:B.cancelButtonContainer},a.a.createElement(v.b,{label:b.cancel,theme:v.a.GREY,onClick:function onClick(){return function onCancelClick(e){n(e,null)}(y)}})),a.a.createElement("div",{style:B.submitButtonContainer},a.a.createElement(v.b,{label:b.disconnect,theme:v.a.BLUE,disabled:!1===d,onClick:E}))))),e}()))};U.propTypes={isEditMode:d.a.bool,onUpdate:d.a.func.isRequired},U.defaultProps={isEditMode:!1};var V=U,K=n(10),z=n(119);function Settings_slicedToArray(e,t){return function Settings_arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function Settings_iterableToArrayLimit(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function Settings_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}t.default=function Settings(){var e=i.a.Labels.settings,t=Object(k.a)().getResponsiveStyle,n=i.a.Labels.notifications,l=Settings_slicedToArray(Object(r.useState)(p),2),s=l[0],d=l[1],u=Settings_slicedToArray(Object(r.useState)(null),2),b=u[0],f=u[1],m=Object(o.d)(function(e){return e.app.getIn(["data","user"])}),h=Object(o.c)();if(!m)return null;var w=function sendPasswordUpdateNotification(){h(Object(z.b)({title:n.updatePasswordRequired.title,type:K.b.ALERT}))},O=function onSettingsUpdate(e,t){if(t)if(e===y)if(m.hasAutomaticGeneratedPwd)w();else{var n={onValidAction:Object(M.f)(M.a.DO_UPDATE_USER),onSuccessNotif:K.a.VALIDATION_EMAIL_RESENT,data:{email:t.email,id:m.id}};m.hasAutomaticGeneratedPwd?w():h(Object(_.n)(W.a.CONFIRM_PWD,!0,n))}else e===p?h(Object(_.n)(W.a.CONFIRM_PWD,!0,{onSuccessNotif:K.a.UPATED_PROFILE,onValidAction:Object(M.f)(M.a.DO_UPDATE_USER),data:{id:m.id,username:t.username}})):e===g?m.hasAutomaticGeneratedPwd?h(Object(_.c)({userId:m.id,newPassword:t.newPassword})):h(Object(_.j)({userId:m.id,currentPassword:t.currentPassword,newPassword:t.newPassword})):e===C&&(m.hasAutomaticGeneratedPwd?w():h(Object(_.n)(W.a.CONFIRM_PWD,!0,{onValidAction:Object(M.f)(M.a.DO_DISCONNECT_FACEBOOK)})));else b===e?(h(Object(_.a)()),f(null)):(h(Object(_.a)()),f(e),d(e===g?y:e))};return a.a.createElement("div",{style:c.container},a.a.createElement("div",{style:c[t("title")]},e.title),a.a.createElement("div",{style:c[t("contentContainer")]},a.a.createElement(E,{selectedNav:s,onNavSelect:function onNavSelect(e){return O(e)}}),a.a.createElement("div",{style:c[t("settingsDataContainer")]},a.a.createElement(S,{onUpdate:O,username:m.username,isEditMode:b===p}),a.a.createElement(T,{onUpdate:O,isEditEmailMode:b===y,isEditPasswordMode:b===g,email:m.email,isVerified:m.validated,noPassword:m.hasAutomaticGeneratedPwd}),a.a.createElement(V,{onUpdate:O,isEditMode:b===C}))))}}}]);